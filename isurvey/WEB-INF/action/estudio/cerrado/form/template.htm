<!DOCTYPE html>
<html>
<head>

<link rel="stylesheet" type="text/css" href="${def:context}/default.css" />

<!--biblioteca generica JS/Dinamica-->
<script type="text/javascript" src="${def:context}/action/script">
</script>

<title>iSurvey</title>

</head>
<body>
<br>
<br>
<br>
<div align="center">
<table class="grid" width="700px">
	<tr>
		<th width="50%">Estudio</th>
		<th width="50%">Instrumento</th>
	</tr>
		<rows>
		<tr ${fld:_rowStyle}>
		<td align="center">${fld:estudio}</td>
		<td align="center"><a href="http://localhost:8090/limesurvey/index.php/${fld:id_instrumento}/token/${fld:token}" target="_blank">${fld:instrumento}</td>
		</tr>
		</rows>
</table>
</div>
<!--panel de respuesta AJAX para el grid paginado-->
<div id="response" style="display: none; width: 100%" align="center"></div>

</body>
<script type="text/javascript">

	//inicializa cuando se carga la pagina
	onload = function()
	{
		//search('${fld:id_participante}', '${fld:id_empresa}'); //mostrar registros en vista paginada
	} 

		//ejecutar consulta y mostrar grid, si hay data viewPage() sera invocada automaticamente
	function search(idParticipante, idEmpresa){
		var url = "${def:actionroot}/search?id_participante="+idParticipante+"&id_empresa="+idEmpresa;
		//llamada Ajax...
		ajaxCall(httpMethod="GET", 
						uri= url, 
						divResponse="response", 
						divProgress="status", 
						formName=null, 
						afterResponseFn=null, 
						onErrorFn=null);
	}

		//traer la pagina N del grid
	function viewPage()
	{
		var url = "${def:actionroot}/view";
		gotoPage(url);
	}	
	</script>
</html>